import fs from 'fs';

// 置換対象の2種のファイルパス
const FILES = ['./src/pixel-engine.js', './src/pixel-engine-static.js'];

// IDベースでパレットとドット絵配列を丸ごと置換するためのマップを生成します
// 15体(Lv2x5, Lv3x10)の最高品質ドットデータを定義します。
const NEW_MONSTER_DATA = {
    // === Lv2 (赤ちゃんで丸っこく、かわいらしさと発色・コントラストを強調) ===
    'baby_slime': {
        palette: [null, '#22c55e', '#166534', '#000', '#fff', '#fcd34d', '#4ade80', '#0f766e', '#064e3b'],
        data: [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 8, 6, 6, 6, 6, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 6, 4, 4, 6, 4, 6, 8, 0, 0, 0, 0], [0, 0, 0, 0, 8, 1, 4, 6, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0],
            [0, 0, 0, 8, 1, 3, 1, 1, 1, 3, 1, 1, 8, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0], [0, 0, 0, 8, 1, 5, 5, 5, 5, 5, 1, 1, 8, 0, 0, 0], [0, 0, 0, 8, 7, 1, 1, 1, 1, 1, 1, 7, 8, 0, 0, 0],
            [0, 0, 0, 0, 8, 7, 7, 7, 7, 7, 7, 8, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'baby_fuzz': {
        palette: [null, '#c084fc', '#7e22ce', '#000', '#fff', '#fcd34d', '#e9d5ff', '#3b0764', '#581c87'],
        data: [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 6, 6, 1, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 6, 6, 1, 1, 1, 8, 8, 0, 0, 0, 0],
            [0, 0, 0, 8, 6, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0], [0, 0, 8, 1, 1, 3, 3, 1, 3, 3, 1, 1, 1, 8, 0, 0], [0, 8, 6, 1, 1, 4, 3, 1, 4, 3, 1, 1, 1, 8, 0, 0],
            [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0], [0, 8, 1, 1, 1, 5, 5, 5, 5, 1, 1, 1, 1, 8, 0, 0], [0, 8, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 8, 0, 0], [0, 0, 8, 2, 2, 1, 1, 1, 1, 1, 1, 2, 8, 0, 0, 0],
            [0, 0, 0, 8, 8, 2, 2, 2, 2, 2, 8, 8, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'baby_bud': {
        palette: [null, '#f472b6', '#be185d', '#000', '#fff', '#86efac', '#16a34a', '#831843', '#14532d'],
        data: [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 1, 1, 1, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 1, 4, 1, 1, 1, 8, 0, 0, 0, 0, 0],
            [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 1, 3, 1, 1, 3, 1, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 2, 1, 5, 5, 1, 2, 8, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 8, 5, 5, 5, 5, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 6, 5, 5, 6, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 8, 5, 6, 6, 6, 6, 5, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 5, 6, 6, 6, 6, 5, 8, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 8, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'baby_spark': {
        palette: [null, '#fca5a5', '#ef4444', '#000', '#fff', '#fde047', '#f97316', '#7f1d1d', '#450a0a'],
        data: [
            [0, 0, 0, 0, 0, 6, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 6, 5, 6, 6, 5, 6, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0],
            [0, 0, 8, 1, 4, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 3, 1, 1, 1, 3, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0],
            [0, 0, 0, 8, 1, 5, 5, 5, 5, 1, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 2, 1, 1, 1, 1, 2, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 8, 2, 2, 8, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'baby_mist': {
        palette: [null, '#c4b5fd', '#7c3aed', '#000', '#fff', '#8b5cf6', '#ddd6fe', '#312e81', '#1e1b4b'],
        data: [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 5, 5, 0, 0, 0, 5, 5, 0, 0, 0, 0, 0], [0, 0, 0, 5, 6, 6, 5, 0, 5, 6, 6, 5, 0, 0, 0, 0], [0, 0, 5, 1, 1, 1, 1, 5, 1, 1, 1, 1, 5, 0, 0, 0],
            [0, 0, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 0, 0, 0], [0, 0, 5, 1, 3, 1, 1, 1, 3, 1, 1, 1, 5, 0, 0, 0], [0, 0, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 0, 0, 0], [0, 0, 0, 5, 1, 5, 5, 5, 5, 1, 1, 5, 0, 0, 0, 0],
            [0, 0, 0, 0, 5, 1, 1, 1, 1, 1, 5, 0, 0, 0, 0, 0], [0, 0, 0, 5, 1, 1, 1, 5, 1, 1, 5, 0, 0, 0, 0, 0], [0, 0, 0, 0, 5, 5, 5, 0, 5, 5, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },

    // === Lv3 (すこし生意気・特徴をより大胆に) ===
    'kid_brave': {
        palette: [null, '#f87171', '#dc2626', '#000', '#fff', '#fde047', '#facc15', '#333', '#7f1d1d'],
        data: [
            [0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0], [0, 0, 0, 8, 5, 5, 8, 0, 0, 8, 5, 5, 8, 0, 0, 0], [0, 0, 0, 8, 6, 6, 8, 0, 0, 8, 6, 6, 8, 0, 0, 0], [0, 0, 0, 8, 6, 6, 8, 8, 8, 8, 6, 6, 8, 0, 0, 0],
            [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0], [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0], [0, 8, 1, 3, 4, 1, 1, 1, 1, 3, 4, 1, 1, 8, 0, 0], [0, 8, 1, 3, 3, 1, 1, 1, 1, 3, 3, 1, 1, 8, 0, 0],
            [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0], [0, 8, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 1, 8, 0, 0], [0, 8, 1, 1, 1, 5, 5, 5, 5, 1, 1, 1, 1, 8, 0, 0], [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0],
            [0, 0, 8, 1, 2, 2, 1, 1, 2, 2, 1, 8, 0, 0, 0, 0], [0, 0, 0, 8, 8, 8, 8, 8, 8, 8, 8, 8, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_smart': {
        palette: [null, '#60a5fa', '#2563eb', '#000', '#fff', '#fef08a', '#eab308', '#fff', '#1e3a8a'],
        data: [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0],
            [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0], [0, 0, 8, 1, 8, 8, 8, 1, 8, 8, 8, 1, 8, 0, 0, 0], [0, 0, 8, 1, 8, 4, 8, 8, 8, 4, 8, 1, 8, 0, 0, 0], [0, 0, 8, 1, 8, 3, 8, 8, 8, 3, 8, 1, 8, 0, 0, 0],
            [0, 0, 8, 1, 8, 8, 8, 5, 8, 8, 8, 1, 8, 0, 0, 0], [0, 0, 0, 8, 1, 1, 5, 5, 5, 1, 1, 8, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 0, 8, 2, 1, 1, 1, 1, 1, 2, 8, 0, 0, 0, 0],
            [0, 0, 0, 0, 8, 8, 2, 2, 2, 8, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_guard': {
        palette: [null, '#94a3b8', '#64748b', '#000', '#fff', '#3b82f6', '#1e293b', '#cbd5e1', '#0f172a'],
        data: [
            [0, 0, 0, 0, 0, 0, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 7, 7, 7, 7, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0],
            [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0], [0, 0, 8, 8, 8, 8, 8, 1, 8, 8, 8, 8, 8, 8, 0, 0], [0, 0, 8, 3, 3, 3, 8, 1, 8, 3, 3, 3, 8, 8, 0, 0], [0, 8, 1, 8, 8, 8, 8, 1, 8, 8, 8, 8, 1, 1, 8, 0],
            [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0], [0, 0, 8, 1, 1, 1, 5, 5, 5, 1, 1, 1, 1, 8, 0, 0], [0, 0, 0, 8, 2, 1, 1, 5, 1, 1, 2, 8, 8, 0, 0, 0], [0, 0, 0, 0, 8, 8, 2, 2, 2, 8, 8, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_owl': {
        palette: [null, '#818cf8', '#6366f1', '#000', '#fff', '#fef08a', '#1e1b4b', '#a5b4fc', '#312e81'],
        data: [
            [0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 1, 1, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0],
            [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 0, 0, 0], [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0], [0, 8, 1, 1, 3, 3, 1, 1, 3, 3, 1, 1, 1, 8, 0, 0],
            [0, 8, 1, 1, 1, 1, 5, 5, 1, 1, 1, 1, 1, 8, 0, 0], [0, 8, 7, 7, 1, 1, 1, 1, 1, 1, 1, 7, 7, 8, 0, 0], [0, 8, 7, 7, 1, 1, 1, 1, 1, 1, 1, 7, 7, 8, 0, 0], [0, 0, 8, 8, 2, 1, 1, 1, 1, 1, 2, 8, 8, 0, 0, 0],
            [0, 0, 0, 0, 8, 8, 2, 2, 2, 8, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_kind': {
        palette: [null, '#f472b6', '#db2777', '#000', '#fff', '#fef9c3', '#a7f3d0', '#065f46', '#831843'],
        data: [
            [0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 8, 5, 5, 5, 8, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 5, 5, 5, 5, 5, 5, 5, 8, 0, 0, 0, 0], [0, 0, 8, 1, 5, 5, 5, 5, 5, 5, 5, 1, 8, 0, 0, 0],
            [0, 0, 8, 1, 1, 8, 8, 8, 8, 8, 1, 1, 8, 0, 0, 0], [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0], [0, 8, 1, 1, 3, 1, 1, 1, 1, 3, 1, 1, 1, 8, 0, 0], [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0],
            [0, 8, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 8, 0, 0], [0, 8, 6, 6, 1, 1, 1, 1, 1, 1, 1, 6, 6, 8, 0, 0], [0, 8, 6, 6, 2, 1, 1, 1, 1, 1, 2, 6, 6, 8, 0, 0], [0, 0, 8, 8, 8, 2, 2, 2, 2, 2, 8, 8, 8, 0, 0, 0],
            [0, 0, 0, 0, 0, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_ribbon': {
        palette: [null, '#fb7185', '#be123c', '#000', '#fff', '#fef08a', '#fda4af', '#e11d48', '#4c0519'],
        data: [
            [0, 0, 0, 0, 8, 8, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0], [0, 0, 8, 8, 1, 1, 8, 0, 8, 1, 1, 8, 8, 0, 0, 0], [0, 8, 1, 1, 1, 1, 1, 8, 1, 1, 1, 1, 1, 8, 0, 0], [0, 8, 1, 5, 1, 1, 1, 1, 1, 1, 1, 5, 1, 8, 0, 0],
            [0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0], [0, 0, 8, 8, 8, 6, 6, 6, 6, 6, 8, 8, 8, 0, 0, 0], [0, 0, 0, 8, 6, 6, 6, 6, 6, 6, 6, 8, 0, 0, 0, 0], [0, 0, 0, 8, 6, 3, 6, 6, 6, 3, 6, 8, 0, 0, 0, 0],
            [0, 0, 0, 8, 6, 6, 6, 2, 6, 6, 6, 8, 0, 0, 0, 0], [0, 0, 0, 8, 6, 6, 6, 6, 6, 6, 6, 8, 0, 0, 0, 0], [0, 0, 0, 0, 8, 8, 6, 6, 6, 8, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 1, 1, 1, 8, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_active': {
        palette: [null, '#fbbf24', '#d97706', '#000', '#fff', '#ef4444', '#fef3c7', '#b45309', '#78350f'],
        data: [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0], [0, 8, 1, 1, 8, 0, 0, 0, 0, 8, 1, 1, 8, 0, 0, 0], [0, 8, 2, 2, 8, 8, 8, 8, 8, 8, 2, 2, 8, 0, 0, 0],
            [0, 0, 8, 8, 1, 1, 1, 1, 1, 1, 8, 8, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 3, 1, 1, 1, 1, 3, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 2, 2, 1, 1, 1, 8, 0, 0, 0, 0],
            [0, 0, 8, 1, 1, 1, 5, 5, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 7, 8, 0, 0], [0, 0, 8, 2, 1, 1, 1, 1, 1, 1, 2, 8, 7, 7, 8, 0], [0, 0, 0, 8, 8, 2, 1, 1, 2, 8, 8, 0, 8, 7, 8, 0],
            [0, 0, 0, 0, 0, 8, 8, 8, 8, 0, 0, 0, 8, 8, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_brush': {
        palette: [null, '#fbbf24', '#f59e0b', '#000', '#fff', '#3b82f6', '#ef4444', '#10b981', '#78350f'],
        data: [
            [0, 0, 0, 0, 0, 0, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 4, 4, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 8, 8, 1, 1, 1, 1, 8, 8, 0, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 1, 3, 1, 1, 3, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0],
            [0, 0, 8, 1, 6, 6, 1, 1, 7, 1, 1, 8, 0, 0, 0, 0], [0, 0, 8, 1, 6, 1, 1, 1, 7, 7, 1, 8, 0, 0, 0, 0], [0, 0, 8, 2, 1, 1, 1, 1, 1, 1, 2, 8, 0, 0, 0, 0], [0, 0, 0, 8, 8, 2, 1, 1, 2, 8, 8, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_chaos': {
        palette: [null, '#a78bfa', '#7c3aed', '#000', '#fff', '#f472b6', '#ddd', '#333', '#4c1d95'],
        data: [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 8, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0],
            [0, 0, 8, 1, 1, 3, 1, 1, 1, 3, 1, 1, 8, 0, 0, 0], [0, 0, 8, 1, 1, 3, 1, 1, 1, 3, 1, 1, 8, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0], [0, 0, 8, 1, 5, 5, 5, 5, 5, 5, 5, 1, 8, 0, 0, 0],
            [0, 0, 8, 1, 8, 4, 8, 4, 8, 4, 8, 1, 8, 0, 0, 0], [0, 0, 8, 1, 5, 5, 5, 5, 5, 5, 5, 1, 8, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0], [0, 0, 0, 8, 1, 2, 1, 2, 1, 2, 1, 8, 0, 0, 0, 0],
            [0, 0, 0, 0, 8, 8, 0, 8, 0, 8, 8, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    },
    'kid_rift': {
        palette: [null, '#4c1d95', '#2e1065', '#000', '#fff', '#7c3aed', '#a855f7', '#ddd6fe', '#0f172a'],
        data: [
            [0, 0, 0, 0, 5, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0], [0, 0, 0, 5, 1, 5, 5, 5, 5, 1, 5, 0, 0, 0, 0, 0], [0, 0, 0, 8, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0, 0], [0, 0, 8, 1, 1, 1, 1, 1, 1, 1, 1, 8, 0, 0, 0, 0],
            [0, 8, 1, 1, 1, 8, 8, 8, 8, 1, 1, 1, 8, 0, 0, 0], [0, 8, 1, 1, 8, 4, 4, 4, 4, 8, 1, 1, 8, 0, 0, 0], [0, 8, 1, 1, 8, 4, 4, 3, 4, 8, 1, 1, 8, 0, 0, 0], [0, 0, 8, 1, 1, 8, 4, 4, 8, 1, 1, 8, 0, 0, 0, 0],
            [0, 0, 0, 8, 1, 1, 8, 8, 1, 1, 8, 0, 0, 6, 6, 0], [0, 0, 5, 0, 8, 1, 1, 1, 1, 8, 0, 5, 6, 6, 6, 0], [0, 5, 5, 0, 0, 8, 8, 8, 8, 0, 0, 5, 5, 6, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        ]
    }
};

// JSのソースコードを受け取り、MONSTERSの配列内該当要素のpaletteとdataを書き換える関数
function replaceMonsterData(source) {
    let result = source;
    for (const [id, newData] of Object.entries(NEW_MONSTER_DATA)) {
        // それぞれのオブジェクト定義部分を探す
        const blockRegex = new RegExp(`(id:\\s*'${id}'.*?palette:\\s*\\[)(.*?)(\\],.*?data:\\s*\\[)(.*?)(\\]\\s*\\n*\\s*\\})`, 's');

        // newData.paletteを文字列化
        const paletteStr = newData.palette.map(c => c === null ? 'null' : `'${c}'`).join(', ');

        // newData.dataを文字列化（16行）
        const dataStr = '\n' + newData.data.map(row => `            [${row.join(', ')}]`).join(',\n') + '\n        ';

        result = result.replace(blockRegex, (match, prefix, oldPal, mid, oldData, suffix) => {
            return `${prefix}${paletteStr}${mid}${dataStr}${suffix}`;
        });
    }
    return result;
}

FILES.forEach(file => {
    if (fs.existsSync(file)) {
        const src = fs.readFileSync(file, 'utf8');
        const newSrc = replaceMonsterData(src);
        fs.writeFileSync(file, newSrc, 'utf8');
        console.log(`Updated ${file}`);
    } else {
        console.error(`File not found: ${file}`);
    }
});
